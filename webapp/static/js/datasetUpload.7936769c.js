(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["datasetUpload"],{1148:function(e,t,n){"use strict";var i=n("da84"),a=n("5926"),s=n("577e"),o=n("1d80"),r=i.RangeError;e.exports=function(e){var t=s(o(this)),n="",i=a(e);if(i<0||i==1/0)throw r("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},3906:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-nav",{attrs:{"card-header":"",tabs:""}},[n("b-nav-item",{attrs:{to:"/dataset/"+this.datasetName+"/query","active-class":"active"}},[n("FontAwesomeIcon",{attrs:{icon:"question-circle"}}),n("span",{staticClass:"ml-1"},[e._v("query")])],1),n("b-nav-item",{attrs:{to:"/dataset/"+this.datasetName+"/upload","active-class":"active"}},[n("FontAwesomeIcon",{attrs:{icon:"upload"}}),n("span",{staticClass:"ml-1"},[e._v("add data")])],1),n("b-nav-item",{attrs:{to:"/dataset/"+this.datasetName+"/edit","active-class":"active"}},[n("FontAwesomeIcon",{attrs:{icon:"edit"}}),n("span",{staticClass:"ml-1"},[e._v("edit")])],1),n("b-nav-item",{attrs:{to:"/dataset/"+this.datasetName+"/info","active-class":"active"}},[n("FontAwesomeIcon",{attrs:{icon:"tachometer-alt"}}),n("span",{staticClass:"ml-1"},[e._v("info")])],1)],1)},a=[],s=n("ecee"),o=n("c074"),r=n("ad3d");function l(){var e="/home/afs/ASF/Release/jena/target/checkout/jena-fuseki2/jena-fuseki-ui/src/components/dataset/Menu.vue",t="9bbe771379993852b16557c822de7f81bc697f54",n=new Function("return this")(),i="__coverage__",a={path:"/home/afs/ASF/Release/jena/target/checkout/jena-fuseki2/jena-fuseki-ui/src/components/dataset/Menu.vue",statementMap:{0:{start:{line:56,column:0},end:{line:56,column:64}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,sources:["Menu.vue"],names:[],mappings:";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA",file:"Menu.vue",sourceRoot:"src/components/dataset",sourcesContent:['\x3c!--\n   Licensed to the Apache Software Foundation (ASF) under one or more\n   contributor license agreements.  See the NOTICE file distributed with\n   this work for additional information regarding copyright ownership.\n   The ASF licenses this file to You under the Apache License, Version 2.0\n   (the "License"); you may not use this file except in compliance with\n   the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an "AS IS" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n--\x3e\n\n<template>\n  <b-nav card-header tabs>\n    <b-nav-item\n      :to="`/dataset/${this.datasetName}/query`"\n      active-class="active"\n    >\n      <FontAwesomeIcon icon="question-circle" />\n      <span class="ml-1">query</span>\n    </b-nav-item>\n    <b-nav-item\n      :to="`/dataset/${this.datasetName}/upload`"\n      active-class="active"\n    >\n      <FontAwesomeIcon icon="upload" />\n      <span class="ml-1">add data</span>\n    </b-nav-item>\n    <b-nav-item\n      :to="`/dataset/${this.datasetName}/edit`"\n      active-class="active"\n    >\n      <FontAwesomeIcon icon="edit" />\n      <span class="ml-1">edit</span>\n    </b-nav-item>\n    <b-nav-item\n      :to="`/dataset/${this.datasetName}/info`"\n      active-class="active"\n    >\n      <FontAwesomeIcon icon="tachometer-alt" />\n      <span class="ml-1">info</span>\n    </b-nav-item>\n  </b-nav>\n</template>\n\n<script>\nimport { library } from \'@fortawesome/fontawesome-svg-core\'\nimport { faQuestionCircle, faUpload, faTachometerAlt, faEdit } from \'@fortawesome/free-solid-svg-icons\'\nimport { FontAwesomeIcon } from \'@fortawesome/vue-fontawesome\'\n\nlibrary.add(faQuestionCircle, faUpload, faTachometerAlt, faEdit)\n\nexport default {\n  name: \'DatasetMenu\',\n\n  props: {\n    datasetName: {\n      type: String,\n      required: true\n    }\n  },\n\n  components: {\n    FontAwesomeIcon\n  }\n}\n<\/script>\n']},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9bbe771379993852b16557c822de7f81bc697f54"},s=n[i]||(n[i]={});s[e]&&s[e].hash===t||(s[e]=a);var o=s[e];return l=function(){return o},o}l(),l().s[0]++,s["c"].add(o["j"],o["o"],o["k"],o["e"]);var c={name:"DatasetMenu",props:{datasetName:{type:String,required:!0}},components:{FontAwesomeIcon:r["a"]}},u=c,d=n("2877"),p=Object(d["a"])(u,i,a,!1,null,null,null);t["a"]=p.exports},"408a":function(e,t,n){var i=n("e330");e.exports=i(1..valueOf)},8019:function(e,t,n){
/*!
 * Name: vue-upload-component
 * Version: 2.8.21
 * Author: Marco Lang
 */
(function(t,n){e.exports=n()})(0,(function(){"use strict";var e=function(e){var t=new XMLHttpRequest;return t.open(e.method||"GET",e.url),t.responseType="json",e.headers&&Object.keys(e.headers).forEach((function(n){t.setRequestHeader(n,e.headers[n])})),t},t=function(e,t){return new Promise((function(n,i){e.onload=function(){if(e.status>=200&&e.status<300){var t;try{t=JSON.parse(e.response)}catch(a){t=e.response}n(t)}else i(e.response)},e.onerror=function(){return i(e.response)},e.send(JSON.stringify(t))}))},n=function(e,t){var n=new FormData;for(var i in t)n.append(i,t[i]);return new Promise((function(t,i){e.onload=function(){if(e.status>=200&&e.status<300){var n;try{n=JSON.parse(e.response)}catch(a){n=e.response}t(n)}else i(e.response)},e.onerror=function(){return i(e.response)},e.send(n)}))};function i(n){var i=e(n);return t(i,n.body)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,n){s(this,t),this.file=e,this.options=n,this.chunks=[],this.sessionId=null,this.chunkSize=null,this.speedInterval=null}return a(t,[{key:"createChunks",value:function(){this.chunks=[];var e=0,t=this.chunkSize;while(e<this.fileSize)this.chunks.push({blob:this.file.file.slice(e,t),startOffset:e,active:!1,retries:this.maxRetries}),e=t,t=e+this.chunkSize}},{key:"updateFileProgress",value:function(){this.file.progress=this.progress}},{key:"pause",value:function(){this.file.active=!1,this.stopChunks()}},{key:"stopChunks",value:function(){this.chunksUploading.forEach((function(e){e.xhr.abort(),e.active=!1})),this.stopSpeedCalc()}},{key:"resume",value:function(){this.file.active=!0,this.startChunking()}},{key:"upload",value:function(){var e=this;return this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),this.start(),this.promise}},{key:"start",value:function(){var e=this;i({method:"POST",headers:Object.assign({},this.headers,{"Content-Type":"application/json"}),url:this.action,body:Object.assign(this.startBody,{phase:"start",mime_type:this.fileType,size:this.fileSize,name:this.fileName})}).then((function(t){if("success"!==t.status)return e.file.response=t,e.reject("server");e.sessionId=t.data.session_id,e.chunkSize=t.data.end_offset,e.createChunks(),e.startChunking()})).catch((function(t){e.file.response=t,e.reject("server")}))}},{key:"startChunking",value:function(){for(var e=0;e<this.maxActiveChunks;e++)this.uploadNextChunk();this.startSpeedCalc()}},{key:"uploadNextChunk",value:function(){if(this.file.active){if(this.hasChunksToUpload)return this.uploadChunk(this.chunksToUpload[0]);if(0===this.chunksUploading.length)return this.finish()}}},{key:"uploadChunk",value:function(t){var i=this;t.progress=0,t.active=!0,this.updateFileProgress(),t.xhr=e({method:"POST",headers:this.headers,url:this.action}),t.xhr.upload.addEventListener("progress",(function(e){e.lengthComputable&&(t.progress=Math.round(e.loaded/e.total*100))}),!1),n(t.xhr,Object.assign(this.uploadBody,{phase:"upload",session_id:this.sessionId,start_offset:t.startOffset,chunk:t.blob})).then((function(e){if(t.active=!1,"success"===e.status)t.uploaded=!0;else if(t.retries--<=0)return i.stopChunks(),i.reject("upload");i.uploadNextChunk()})).catch((function(){if(t.active=!1,t.retries--<=0)return i.stopChunks(),i.reject("upload");i.uploadNextChunk()}))}},{key:"finish",value:function(){var e=this;this.updateFileProgress(),this.stopSpeedCalc(),i({method:"POST",headers:Object.assign({},this.headers,{"Content-Type":"application/json"}),url:this.action,body:Object.assign(this.finishBody,{phase:"finish",session_id:this.sessionId})}).then((function(t){if(e.file.response=t,"success"!==t.status)return e.reject("server");e.resolve(t)})).catch((function(t){e.file.response=t,e.reject("server")}))}},{key:"startSpeedCalc",value:function(){var e=this;this.file.speed=0;var t=0;this.speedInterval||(this.speedInterval=window.setInterval((function(){var n=e.progress/100*e.fileSize;e.file.speed=n-t,t=n}),1e3))}},{key:"stopSpeedCalc",value:function(){this.speedInterval&&window.clearInterval(this.speedInterval),this.speedInterval=null,this.file.speed=0}},{key:"maxRetries",get:function(){return parseInt(this.options.maxRetries,10)}},{key:"maxActiveChunks",get:function(){return parseInt(this.options.maxActive,10)}},{key:"fileType",get:function(){return this.file.type}},{key:"fileSize",get:function(){return this.file.size}},{key:"fileName",get:function(){return this.file.name}},{key:"action",get:function(){return this.options.action||null}},{key:"startBody",get:function(){return this.options.startBody||{}}},{key:"uploadBody",get:function(){return this.options.uploadBody||{}}},{key:"finishBody",get:function(){return this.options.finishBody||{}}},{key:"headers",get:function(){return this.options.headers||{}}},{key:"readyToUpload",get:function(){return!!this.chunks}},{key:"progress",get:function(){var e=this,t=this.chunksUploaded.length/this.chunks.length*100,n=this.chunksUploading.reduce((function(t,n){return t+(0|n.progress)/e.chunks.length}),0);return Math.min(t+n,100)}},{key:"chunksToUpload",get:function(){return this.chunks.filter((function(e){return!e.active&&!e.uploaded}))}},{key:"hasChunksToUpload",get:function(){return this.chunksToUpload.length>0}},{key:"chunksUploading",get:function(){return this.chunks.filter((function(e){return!!e.xhr&&!!e.active}))}},{key:"chunksUploaded",get:function(){return this.chunks.filter((function(e){return!!e.uploaded}))}}]),t}(),r={methods:{change:function(e){this.$parent.addInputFile(e.target),e.target.files?(e.target.value="",e.target.files.length&&!/safari/i.test(navigator.userAgent)&&(e.target.type="",e.target.type="file")):(this.$destroy(),new this.constructor({parent:this.$parent,el:this.$el}))}}};function l(e,t,n,i,a,s,o,r,l,c){"boolean"!==typeof o&&(l=r,r=o,o=!1);var u,d="function"===typeof n?n.options:n;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,a&&(d.functional=!0)),i&&(d._scopeId=i),s?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=u):t&&(u=o?function(){t.call(this,c(this.$root.$options.shadowRoot))}:function(e){t.call(this,r(e))}),u)if(d.functional){var p=d.render;d.render=function(e,t){return u.call(t),p(e,t)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,u):[u]}return n}var c=l,u=r,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("input",{attrs:{type:"file",name:e.$parent.name,id:e.$parent.inputId||e.$parent.name,accept:e.$parent.accept,capture:e.$parent.capture,disabled:e.$parent.disabled,webkitdirectory:e.$parent.directory&&e.$parent.features.directory,directory:e.$parent.directory&&e.$parent.features.directory,multiple:e.$parent.multiple&&e.$parent.features.html5},on:{change:e.change}})},p=[],f=void 0,m=void 0,h=void 0,A=!1,v=c({render:d,staticRenderFns:p},f,u,m,A,h,void 0,void 0),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function g(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var C={headers:{},action:"",minSize:1048576,maxActive:3,maxRetries:5,handler:o},k={components:{InputFile:v},props:{inputId:{type:String},name:{type:String,default:"file"},accept:{type:String},capture:{},disabled:{},multiple:{type:Boolean},maximum:{type:Number,default:function(){return this.multiple?0:1}},addIndex:{type:[Boolean,Number]},directory:{type:Boolean},postAction:{type:String},putAction:{type:String},customAction:{type:Function},headers:{type:Object,default:Object},data:{type:Object,default:Object},timeout:{type:Number,default:0},drop:{default:!1},dropDirectory:{type:Boolean,default:!0},size:{type:Number,default:0},extensions:{default:Array},value:{type:Array,default:Array},thread:{type:Number,default:1},chunkEnabled:{type:Boolean,default:!1},chunk:{type:Object,default:function(){return C}}},data:function(){return{files:this.value,features:{html5:!0,directory:!1,drop:!1},active:!1,dropActive:!1,uploading:0,destroy:!1}},mounted:function(){var e=document.createElement("input");if(e.type="file",e.multiple=!0,window.FormData&&e.files?("boolean"!==typeof e.webkitdirectory&&"boolean"!==typeof e.directory||(this.features.directory=!0),this.features.html5&&"undefined"!==typeof e.ondrop&&(this.features.drop=!0)):this.features.html5=!1,this.maps={},this.files)for(var t=0;t<this.files.length;t++){var n=this.files[t];this.maps[n.id]=n}this.$nextTick((function(){var e=this;this.$parent?(this.$parent.$forceUpdate(),this.$parent.$nextTick((function(){e.watchDrop(e.drop)}))):this.watchDrop(this.drop)}))},beforeDestroy:function(){this.destroy=!0,this.active=!1,this.watchDrop(!1)},computed:{uploaded:function(){for(var e=void 0,t=0;t<this.files.length;t++)if(e=this.files[t],e.fileObject&&!e.error&&!e.success)return!1;return!0},chunkOptions:function(){return Object.assign(C,this.chunk)},className:function(){return["file-uploads",this.features.html5?"file-uploads-html5":"file-uploads-html4",this.features.directory&&this.directory?"file-uploads-directory":void 0,this.features.drop&&this.drop?"file-uploads-drop":void 0,this.disabled?"file-uploads-disabled":void 0]}},watch:{active:function(e){this.watchActive(e)},dropActive:function(){this.$parent&&this.$parent.$forceUpdate()},drop:function(e){this.watchDrop(e)},value:function(e){if(this.files!==e){this.files=e;var t=this.maps;this.maps={};for(var n=0;n<this.files.length;n++){var i=this.files[n];this.maps[i.id]=i}for(var a in this.maps){var s=this.maps[a],o=t[a];s!==o&&this.emitFile(s,o)}for(var r in t)this.maps[r]||this.emitFile(void 0,t[r])}}},methods:{clear:function(){if(this.files.length){var e=this.files;this.files=[],this.maps={},this.emitInput();for(var t=0;t<e.length;t++)this.emitFile(void 0,e[t])}return!0},get:function(e){return!!e&&("object"===("undefined"===typeof e?"undefined":y(e))?this.maps[e.id]||!1:this.maps[e]||!1)},add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.addIndex,n=e,i=n instanceof Array;i||(n=[n]);for(var a=[],s=0;s<n.length;s++){var o=n[s];this.features.html5&&o instanceof Blob&&(o={file:o,size:o.size,name:o.webkitRelativePath||o.relativePath||o.name||"unknown",type:o.type});var r=!1;if(!1===o.fileObject||(o.fileObject||"undefined"!==typeof Element&&o.el instanceof Element||"undefined"!==typeof Blob&&o.file instanceof Blob)&&(r=!0),r&&(o=b({fileObject:!0,size:-1,name:"Filename",type:"",active:!1,error:"",success:!1,putAction:this.putAction,postAction:this.postAction,timeout:this.timeout},o,{response:{},progress:"0.00",speed:0}),o.data=b({},this.data,o.data?o.data:{}),o.headers=b({},this.headers,o.headers?o.headers:{})),o.id||(o.id=Math.random().toString(36).substr(2)),!this.emitFilter(o,void 0)){if(this.maximum>1&&a.length+this.files.length>=this.maximum)break;if(a.push(o),1===this.maximum)break}}if(!a.length)return!1;1===this.maximum&&this.clear();var l=void 0;if(!0===t||0===t)l=a.concat(this.files);else if(t){var c;l=this.files.concat([]),(c=l).splice.apply(c,[t,0].concat(a))}else l=this.files.concat(a);this.files=l;for(var u=0;u<a.length;u++){var d=a[u];this.maps[d.id]=d}this.emitInput();for(var p=0;p<a.length;p++)this.emitFile(a[p],void 0);return i?a:a[0]},addInputFile:function(e){var t=[];if(e.files)for(var n=0;n<e.files.length;n++){var i=e.files[n];t.push({size:i.size,name:i.webkitRelativePath||i.relativePath||i.name,type:i.type,file:i})}else{var a=e.value.replace(/\\/g,"/").split("/");delete e.__vuex__,t.push({name:a[a.length-1],el:e})}return this.add(t)},addDataTransfer:function(e){var t=this,n=[];if(e.items&&e.items.length){for(var i=[],a=0;a<e.items.length;a++){var s=e.items[a];s=s.getAsEntry?s.getAsEntry()||s.getAsFile():s.webkitGetAsEntry&&s.webkitGetAsEntry()||s.getAsFile(),s&&i.push(s)}return new Promise((function(e,a){var s=function a(s){var o=i[s];if(!o||t.maximum>0&&n.length>=t.maximum)return e(t.add(n));t.getEntry(o).then((function(e){n.push.apply(n,g(e)),a(s+1)}))};s(0)}))}if(e.files.length){for(var o=0;o<e.files.length;o++)if(n.push(e.files[o]),this.maximum>0&&n.length>=this.maximum)break;return Promise.resolve(this.add(n))}return Promise.resolve([])},getEntry:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(i,a){if(e.isFile)e.file((function(e){i([{size:e.size,name:n+e.name,type:e.type,file:e}])}));else if(e.isDirectory&&t.dropDirectory){var s=[],o=e.createReader(),r=function a(){o.readEntries((function(o){var r=function r(l){return!o[l]&&0===l||t.maximum>0&&s.length>=t.maximum?i(s):o[l]?void t.getEntry(o[l],n+e.name+"/").then((function(e){s.push.apply(s,g(e)),r(l+1)})):a()};r(0)}))};r()}else i([])}))},replace:function(e,t){var n=this.get(e),i=this.get(t);if(!n||!i||n===i)return!1;var a=this.files.concat([]),s=a.indexOf(n),o=a.indexOf(i);return-1!==s&&-1!==o&&(a[s]=i,a[o]=n,this.files=a,this.emitInput(),!0)},remove:function(e){var t=this.get(e);if(t){if(this.emitFilter(void 0,t))return!1;var n=this.files.concat([]),i=n.indexOf(t);if(-1===i)return console.error("remove",t),!1;n.splice(i,1),this.files=n,delete this.maps[t.id],this.emitInput(),this.emitFile(void 0,t)}return t},update:function(e,t){var n=this.get(e);if(n){var i=b({},n,t);if(!n.fileObject||!n.active||i.active||i.error||i.success||(i.error="abort"),this.emitFilter(i,n))return!1;var a=this.files.concat([]),s=a.indexOf(n);return-1===s?(console.error("update",n),!1):(a.splice(s,1,i),this.files=a,delete this.maps[n.id],this.maps[i.id]=i,this.emitInput(),this.emitFile(i,n),i)}return!1},emitFilter:function(e,t){var n=!1;return this.$emit("input-filter",e,t,(function(){return n=!0,n})),n},emitFile:function(e,t){this.$emit("input-file",e,t),!(e&&e.fileObject&&e.active)||t&&t.active?e&&e.fileObject&&e.active||!t||!t.fileObject||!t.active||this.uploading--:(this.uploading++,this.$nextTick((function(){var t=this;setTimeout((function(){t.upload(e).then((function(){e=t.get(e),e&&e.fileObject&&t.update(e,{active:!1,success:!e.error})})).catch((function(n){t.update(e,{active:!1,success:!1,error:n.code||n.error||n.message||n})}))}),parseInt(50*Math.random()+50,10))}))),!this.active||Boolean(e)===Boolean(t)&&e.active===t.active||this.watchActive(!0)},emitInput:function(){this.$emit("input",this.files)},upload:function(e){var t=this.get(e);if(!t)return Promise.reject("not_exists");if(!t.fileObject)return Promise.reject("file_object");if(t.error)return Promise.reject(t.error);if(t.success)return Promise.resolve(t);var n=this.extensions;if(n&&(n.length||"undefined"===typeof n.length)&&("object"===("undefined"===typeof n?"undefined":y(n))&&n instanceof RegExp||("string"===typeof n&&(n=n.split(",").map((function(e){return e.trim()})).filter((function(e){return e}))),n=new RegExp("\\.("+n.join("|").replace(/\./g,"\\.")+")$","i")),-1===t.name.search(n)))return Promise.reject("extension");if(this.size>0&&t.size>=0&&t.size>this.size)return Promise.reject("size");if(this.customAction)return this.customAction(t,this);if(this.features.html5){if(this.shouldUseChunkUpload(t))return this.uploadChunk(t);if(t.putAction)return this.uploadPut(t);if(t.postAction)return this.uploadHtml5(t)}return t.postAction?this.uploadHtml4(t):Promise.reject("No action configured")},shouldUseChunkUpload:function(e){return this.chunkEnabled&&!!this.chunkOptions.handler&&e.size>this.chunkOptions.minSize},uploadChunk:function(e){var t=this.chunkOptions.handler;return e.chunk=new t(e,this.chunkOptions),e.chunk.upload()},uploadPut:function(e){var t=[],n=void 0;for(var i in e.data)n=e.data[i],null!==n&&void 0!==n&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));var a=t.length?(-1===e.putAction.indexOf("?")?"?":"&")+t.join("&"):"",s=new XMLHttpRequest;return s.open("PUT",e.putAction+a),this.uploadXhr(s,e,e.file)},uploadHtml5:function(e){var t=new window.FormData,n=void 0;for(var i in e.data)n=e.data[i],n&&"object"===("undefined"===typeof n?"undefined":y(n))&&"function"!==typeof n.toString?n instanceof File?t.append(i,n,n.name):t.append(i,JSON.stringify(n)):null!==n&&void 0!==n&&t.append(i,n);t.append(this.name,e.file,e.file.filename||e.name);var a=new XMLHttpRequest;return a.open("POST",e.postAction),this.uploadXhr(a,e,t)},uploadXhr:function(e,t,n){var i=this,a=t,s=0,o=0;e.upload.onprogress=function(e){if(a=i.get(a),e.lengthComputable&&a&&a.fileObject&&a.active){var t=Math.round(Date.now()/1e3);t!==s&&(s=t,a=i.update(a,{progress:(e.loaded/e.total*100).toFixed(2),speed:e.loaded-o}),o=e.loaded)}};var r=setInterval((function(){if(a=i.get(a),!a||!a.fileObject||a.success||a.error||!a.active){r&&(clearInterval(r),r=!1);try{e.abort(),e.timeout=1}catch(t){}}}),100);return new Promise((function(t,s){var o=void 0,l=function(n){if(!o){if(o=!0,r&&(clearInterval(r),r=!1),a=i.get(a),!a)return s("not_exists");if(!a.fileObject)return s("file_object");if(a.error)return s(a.error);if(!a.active)return s("abort");if(a.success)return t(a);var l={};switch(n.type){case"timeout":case"abort":l.error=n.type;break;case"error":e.status?e.status>=500?l.error="server":e.status>=400&&(l.error="denied"):l.error="network";break;default:e.status>=500?l.error="server":e.status>=400?l.error="denied":l.progress="100.00"}if(e.responseText){var c=e.getResponseHeader("Content-Type");c&&-1!==c.indexOf("/json")?l.response=JSON.parse(e.responseText):l.response=e.responseText}return a=i.update(a,l),a.error?s(a.error):t(a)}};for(var c in e.onload=l,e.onerror=l,e.onabort=l,e.ontimeout=l,a.timeout&&(e.timeout=a.timeout),a.headers)e.setRequestHeader(c,a.headers[c]);a=i.update(a,{xhr:e}),e.send(n)}))},uploadHtml4:function(e){var t=this,n=e,i=function(e){27===e.keyCode&&e.preventDefault()},a=document.createElement("iframe");a.id="upload-iframe-"+n.id,a.name="upload-iframe-"+n.id,a.src="about:blank",a.setAttribute("style","width:1px;height:1px;top:-999em;position:absolute; margin-top:-999em;");var s=document.createElement("form");s.action=n.postAction,s.name="upload-form-"+n.id,s.setAttribute("method","POST"),s.setAttribute("target","upload-iframe-"+n.id),s.setAttribute("enctype","multipart/form-data");var o=void 0,r=void 0;for(var l in n.data)o=n.data[l],o&&"object"===("undefined"===typeof o?"undefined":y(o))&&"function"!==typeof o.toString&&(o=JSON.stringify(o)),null!==o&&void 0!==o&&(r=document.createElement("input"),r.type="hidden",r.name=l,r.value=o,s.appendChild(r));s.appendChild(n.el),document.body.appendChild(a).appendChild(s);var c=function(){var e=void 0;try{a.contentWindow&&(e=a.contentWindow.document)}catch(t){}if(!e)try{e=a.contentDocument?a.contentDocument:a.document}catch(t){e=a.document}return e&&e.body?e.body.innerHTML:null};return new Promise((function(e,o){setTimeout((function(){if(n=t.update(n,{iframe:a}),!n)return o("not_exists");var r=setInterval((function(){n=t.get(n),n&&n.fileObject&&!n.success&&!n.error&&n.active||(r&&(clearInterval(r),r=!1),a.onabort({type:n?"abort":"not_exists"}))}),100),l=void 0,u=function(a){if(!l){if(l=!0,r&&(clearInterval(r),r=!1),document.body.removeEventListener("keydown",i),n=t.get(n),!n)return o("not_exists");if(!n.fileObject)return o("file_object");if(n.error)return o(n.error);if(!n.active)return o("abort");if(n.success)return e(n);var s=c(),u={};switch(a.type){case"abort":u.error="abort";break;case"error":n.error?u.error=n.error:u.error=null===s?"network":"denied";break;default:n.error?u.error=n.error:null===u?u.error="network":u.progress="100.00"}if(null!==s){if(s&&"{"===s.substr(0,1)&&"}"===s.substr(s.length-1,1))try{s=JSON.parse(s)}catch(d){}u.response=s}return n=t.update(n,u),n.error?o(n.error):e(n)}};a.onload=u,a.onerror=u,a.onabort=u,document.body.addEventListener("keydown",i),s.submit()}),50)})).then((function(e){return a.parentNode&&a.parentNode.removeChild(a),e})).catch((function(e){return a.parentNode&&a.parentNode.removeChild(a),e}))},watchActive:function(e){var t=void 0,n=0;while(t=this.files[n])if(n++,t.fileObject)if(e&&!this.destroy){if(this.uploading>=this.thread||this.uploading&&!this.features.html5)break;t.active||t.error||t.success||this.update(t,{active:!0})}else t.active&&this.update(t,{active:!1});else;0===this.uploading&&(this.active=!1)},watchDrop:function(e){var t=e;if(this.features.drop){if(this.dropElement)try{document.removeEventListener("dragenter",this.onDragenter,!1),document.removeEventListener("dragleave",this.onDragleave,!1),document.removeEventListener("drop",this.onDocumentDrop,!1),this.dropElement.removeEventListener("dragover",this.onDragover,!1),this.dropElement.removeEventListener("drop",this.onDrop,!1)}catch(n){}t?"string"===typeof t?t=document.querySelector(t)||this.$root.$el.querySelector(t):!0===t&&(t=this.$parent.$el):t=!1,this.dropElement=t,this.dropElement&&(document.addEventListener("dragenter",this.onDragenter,!1),document.addEventListener("dragleave",this.onDragleave,!1),document.addEventListener("drop",this.onDocumentDrop,!1),this.dropElement.addEventListener("dragover",this.onDragover,!1),this.dropElement.addEventListener("drop",this.onDrop,!1))}},onDragenter:function(e){if(e.preventDefault(),!this.dropActive&&e.dataTransfer){var t=e.dataTransfer;t.files&&t.files.length?this.dropActive=!0:t.types?(t.types.indexOf&&-1!==t.types.indexOf("Files")||t.types.contains&&t.types.contains("Files"))&&(this.dropActive=!0):this.dropActive=!0}},onDragleave:function(e){e.preventDefault(),this.dropActive&&("HTML"===e.target.nodeName||e.target===e.explicitOriginalTarget||!e.fromElement&&(e.clientX<=0||e.clientY<=0||e.clientX>=window.innerWidth||e.clientY>=window.innerHeight))&&(this.dropActive=!1)},onDragover:function(e){e.preventDefault()},onDocumentDrop:function(){this.dropActive=!1},onDrop:function(e){e.preventDefault(),this.addDataTransfer(e.dataTransfer)}}},w="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function x(e){return function(e,t){return I(e,t)}}var F=document.head||document.getElementsByTagName("head")[0],S={};function I(e,t){var n=w?t.media||"default":e,i=S[n]||(S[n]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);var a=t.source;if(t.map&&(a+="\n/*# sourceURL="+t.map.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),F.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(a),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var s=i.ids.size-1,o=document.createTextNode(a),r=i.element.childNodes;r[s]&&i.element.removeChild(r[s]),r.length?i.element.insertBefore(o,r[s]):i.element.appendChild(o)}}}var _=x,O=k,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:e.className},[e._t("default"),e._v(" "),n("label",{attrs:{for:e.inputId||e.name}}),e._v(" "),n("input-file")],2)},$=[],E=function(e){e&&e("data-v-76d380b6_0",{source:".file-uploads{overflow:hidden;position:relative;text-align:center;display:inline-block}.file-uploads.file-uploads-html4 input,.file-uploads.file-uploads-html5 label{background:#fff;opacity:0;font-size:20em;z-index:1;top:0;left:0;right:0;bottom:0;position:absolute;width:100%;height:100%}.file-uploads.file-uploads-html4 label,.file-uploads.file-uploads-html5 input{background:rgba(255,255,255,0);overflow:hidden;position:fixed;width:1px;height:1px;z-index:-1;opacity:0}",map:void 0,media:void 0})},j=void 0,T=void 0,D=!1,z=c({render:N,staticRenderFns:$},E,O,j,D,T,_,void 0),U=Object.freeze({default:z});function R(e){return e&&e["default"]||e}var L=R(U),M=L;return M}))},"8e0f":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-row",{staticClass:"mt-4"},[n("b-col",{attrs:{cols:"12"}},[n("h2",[e._v("/"+e._s(this.datasetName))]),n("b-card",{attrs:{"no-body":""}},[n("b-card-header",{attrs:{"header-tag":"nav"}},[n("Menu",{attrs:{"dataset-name":e.datasetName}})],1),n("b-card-body",[n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.$refs.upload&&e.$refs.upload.dropActive,expression:"$refs.upload && $refs.upload.dropActive"}],staticClass:"drop-active"},[n("h3",[e._v("Drop files to upload")])]),n("b-row",[n("b-col",{attrs:{sm:"12"}},[n("h3",[e._v("Upload files")]),n("p",[e._v("Load data into the default graph of the currently selected dataset, or the given named graph. You may upload any RDF format, such as Turtle, RDF/XML or TRiG.")]),n("b-form",[n("b-form-group",{attrs:{id:"dataset-graph-name-group",label:"Dataset graph name","label-for":"dataset-graph-name","label-cols":"12","label-cols-sm":"4","label-cols-md":"4","label-cols-lg":"2","label-size":"sm"}},[n("b-form-input",{attrs:{pattern:"[^\\s]+",oninvalid:"this.setCustomValidity('Enter a valid dataset graph name')",oninput:"this.setCustomValidity('')",id:"dataset-graph-name",type:"text",placeholder:"Leave blank for default graph",trim:""},model:{value:e.form.datasetGraphName,callback:function(t){e.$set(e.form,"datasetGraphName",t)},expression:"form.datasetGraphName"}})],1),n("b-form-group",{attrs:{id:"dataset-files",label:"Files to upload","label-for":"add-files-action-dropdown","label-cols":"12","label-cols-sm":"4","label-cols-md":"4","label-cols-lg":"2","label-size":"sm"}},[n("file-upload",{ref:"upload",staticClass:"btn btn-success",attrs:{"post-action":e.postActionUrl,extensions:e.upload.extensions,accept:e.upload.accept,multiple:e.upload.multiple,directory:e.upload.directory,size:e.upload.size||0,thread:e.upload.thread<1?1:e.upload.thread>5?5:e.upload.thread,headers:e.upload.headers,data:e.upload.data,drop:e.upload.drop,"drop-directory":e.upload.dropDirectory,"add-index":e.upload.addIndex},model:{value:e.upload.files,callback:function(t){e.$set(e.upload,"files",t)},expression:"upload.files"}},[n("FontAwesomeIcon",{attrs:{icon:"plus"}}),n("span",{staticClass:"ml-2"},[e._v("select files")])],1),e.$refs.upload&&e.$refs.upload.active?n("b-button",{staticClass:"ml-2 d-inline",attrs:{variant:"primary"},on:{click:function(t){t.preventDefault(),e.$refs.upload.active=!1}}},[n("FontAwesomeIcon",{attrs:{icon:"times-circle"}}),n("span",{staticClass:"ml-2"},[e._v("stop upload")])],1):n("b-button",{staticClass:"ml-2 d-inline",attrs:{variant:"primary"},on:{click:function(t){t.preventDefault(),e.$refs.upload.active=!0}}},[n("FontAwesomeIcon",{attrs:{icon:"upload"}}),n("span",{staticClass:"ml-2"},[e._v("upload all")])],1)],1)],1)],1)],1),n("b-row",[n("b-col",[n("b-table",{attrs:{fields:e.datasetTableFields,items:e.datasetTableItems,stacked:"lg","empty-text":"No files selected",bordered:"",fixed:"",hover:"","show-empty":""},scopedSlots:e._u([{key:"cell(size)",fn:function(t){return[e._v(" "+e._s(e.readableFileSize(t.item.size))+" ")]}},{key:"cell(speed)",fn:function(t){return[e._v(" "+e._s(e.readableFileSize(t.item.speed))+"/s ")]}},{key:"cell(status)",fn:function(t){return[n("b-progress",{attrs:{variant:e.getFileStatus(t.item),value:t.item.progress,max:100,precision:2,"show-progress":""}}),n("span",{staticClass:"small"},[e._v("Triples uploaded: ")]),t.item.response.tripleCount?n("span",{staticClass:"small"},[e._v(" "+e._s(t.item.response.tripleCount)+" ")]):n("span",{staticClass:"small"},[e._v("0")])]}},{key:"cell(actions)",fn:function(t){return[n("b-button",{staticClass:"mr-0 mb-2 d-block",attrs:{variant:"outline-primary"},on:{click:function(n){n.preventDefault(),!t.item.success&&"compressing"!==t.item.error&&e.$refs.upload.update(t.item,{active:!0})}}},[n("FontAwesomeIcon",{attrs:{icon:"upload"}}),n("span",{staticClass:"ml-2"},[e._v("upload now")])],1),n("b-button",{staticClass:"mr-0 mb-md-0 d-block d-md-inline-block",attrs:{variant:"outline-primary"},on:{click:function(n){return n.preventDefault(),e.remove(t.item)}}},[n("FontAwesomeIcon",{attrs:{icon:"minus-circle"}}),n("span",{staticClass:"ml-2"},[e._v("remove")])],1)]}}])})],1)],1)],1)])],1)],1)],1)],1)},a=[],s=(n("d81d"),n("99af"),n("ac1f"),n("5319"),n("b680"),n("3906")),o=n("8019"),r=n.n(o),l=n("ecee"),c=n("c074"),u=n("ad3d");function d(){var e="/home/afs/ASF/Release/jena/target/checkout/jena-fuseki2/jena-fuseki-ui/src/views/dataset/Upload.vue",t="a441f783c74c3fceac98cce253c49a6d0af90662",n=new Function("return this")(),i="__coverage__",a={path:"/home/afs/ASF/Release/jena/target/checkout/jena-fuseki2/jena-fuseki-ui/src/views/dataset/Upload.vue",statementMap:{0:{start:{line:176,column:0},end:{line:176,column:59}},1:{start:{line:195,column:4},end:{line:256,column:5}},2:{start:{line:261,column:6},end:{line:263,column:7}},3:{start:{line:262,column:8},end:{line:262,column:17}},4:{start:{line:264,column:6},end:{line:269,column:10}},5:{start:{line:266,column:10},end:{line:268,column:12}},6:{start:{line:272,column:21},end:{line:272,column:132}},7:{start:{line:273,column:6},end:{line:273,column:83}},8:{start:{line:279,column:6},end:{line:283,column:7}},9:{start:{line:281,column:8},end:{line:281,column:27}},10:{start:{line:282,column:8},end:{line:282,column:23}},11:{start:{line:284,column:6},end:{line:286,column:7}},12:{start:{line:285,column:8},end:{line:285,column:24}},13:{start:{line:287,column:6},end:{line:289,column:7}},14:{start:{line:288,column:8},end:{line:288,column:24}},15:{start:{line:290,column:6},end:{line:290,column:15}},16:{start:{line:293,column:6},end:{line:293,column:36}},17:{start:{line:303,column:16},end:{line:303,column:20}},18:{start:{line:304,column:16},end:{line:304,column:21}},19:{start:{line:306,column:6},end:{line:312,column:7}},20:{start:{line:307,column:8},end:{line:307,column:65}},21:{start:{line:308,column:13},end:{line:312,column:7}},22:{start:{line:309,column:8},end:{line:309,column:65}},23:{start:{line:311,column:8},end:{line:311,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:194,column:2},end:{line:194,column:3}},loc:{start:{line:194,column:10},end:{line:257,column:3}},line:194},1:{name:"(anonymous_1)",decl:{start:{line:260,column:4},end:{line:260,column:5}},loc:{start:{line:260,column:25},end:{line:270,column:5}},line:260},2:{name:"(anonymous_2)",decl:{start:{line:265,column:13},end:{line:265,column:14}},loc:{start:{line:265,column:21},end:{line:269,column:9}},line:265},3:{name:"(anonymous_3)",decl:{start:{line:271,column:4},end:{line:271,column:5}},loc:{start:{line:271,column:21},end:{line:274,column:5}},line:271},4:{name:"(anonymous_4)",decl:{start:{line:278,column:4},end:{line:278,column:5}},loc:{start:{line:278,column:25},end:{line:291,column:5}},line:278},5:{name:"(anonymous_5)",decl:{start:{line:292,column:4},end:{line:292,column:5}},loc:{start:{line:292,column:18},end:{line:294,column:5}},line:292},6:{name:"(anonymous_6)",decl:{start:{line:302,column:22},end:{line:302,column:23}},loc:{start:{line:302,column:38},end:{line:313,column:5}},line:302}},branchMap:{0:{loc:{start:{line:261,column:6},end:{line:263,column:7}},type:"if",locations:[{start:{line:261,column:6},end:{line:263,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:261},1:{loc:{start:{line:272,column:21},end:{line:272,column:132}},type:"cond-expr",locations:[{start:{line:272,column:89},end:{line:272,column:127}},{start:{line:272,column:130},end:{line:272,column:132}}],line:272},2:{loc:{start:{line:272,column:22},end:{line:272,column:85}},type:"binary-expr",locations:[{start:{line:272,column:22},end:{line:272,column:48}},{start:{line:272,column:52},end:{line:272,column:85}}],line:272},3:{loc:{start:{line:279,column:6},end:{line:283,column:7}},type:"if",locations:[{start:{line:279,column:6},end:{line:283,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:279},4:{loc:{start:{line:284,column:6},end:{line:286,column:7}},type:"if",locations:[{start:{line:284,column:6},end:{line:286,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:284},5:{loc:{start:{line:287,column:6},end:{line:289,column:7}},type:"if",locations:[{start:{line:287,column:6},end:{line:289,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:287},6:{loc:{start:{line:306,column:6},end:{line:312,column:7}},type:"if",locations:[{start:{line:306,column:6},end:{line:312,column:7}},{start:{line:308,column:13},end:{line:312,column:7}}],line:306},7:{loc:{start:{line:308,column:13},end:{line:312,column:7}},type:"if",locations:[{start:{line:308,column:13},end:{line:312,column:7}},{start:{line:310,column:13},end:{line:312,column:7}}],line:308}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,sources:["Upload.vue"],names:[],mappings:";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",file:"Upload.vue",sourceRoot:"src/views/dataset",sourcesContent:['\x3c!--\n   Licensed to the Apache Software Foundation (ASF) under one or more\n   contributor license agreements.  See the NOTICE file distributed with\n   this work for additional information regarding copyright ownership.\n   The ASF licenses this file to You under the Apache License, Version 2.0\n   (the "License"); you may not use this file except in compliance with\n   the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an "AS IS" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n--\x3e\n\n<template>\n  <b-container fluid>\n    <b-row class="mt-4">\n      <b-col cols="12">\n        <h2>/{{ this.datasetName }}</h2>\n        <b-card no-body>\n          <b-card-header header-tag="nav">\n            <Menu :dataset-name="datasetName" />\n          </b-card-header>\n          <b-card-body>\n            <div>\n              <div v-show="$refs.upload && $refs.upload.dropActive" class="drop-active">\n                <h3>Drop files to upload</h3>\n              </div>\n              <b-row>\n                <b-col sm="12">\n                  <h3>Upload files</h3>\n                  <p>Load data into the default graph of the currently selected dataset, or the given named graph.\n                    You may upload any RDF format, such as Turtle, RDF/XML or TRiG.</p>\n                  <b-form>\n                    <b-form-group\n                      id="dataset-graph-name-group"\n                      label="Dataset graph name"\n                      label-for="dataset-graph-name"\n                      label-cols="12"\n                      label-cols-sm="4"\n                      label-cols-md="4"\n                      label-cols-lg="2"\n                      label-size="sm"\n                    >\n                      <b-form-input\n                        pattern="[^\\s]+"\n                        oninvalid="this.setCustomValidity(\'Enter a valid dataset graph name\')"\n                        oninput="this.setCustomValidity(\'\')"\n                        id="dataset-graph-name"\n                        v-model="form.datasetGraphName"\n                        type="text"\n                        placeholder="Leave blank for default graph"\n                        trim\n                      ></b-form-input>\n                    </b-form-group>\n                    <b-form-group\n                      id="dataset-files"\n                      label="Files to upload"\n                      label-for="add-files-action-dropdown"\n                      label-cols="12"\n                      label-cols-sm="4"\n                      label-cols-md="4"\n                      label-cols-lg="2"\n                      label-size="sm"\n                    >\n                      <file-upload\n                        ref="upload"\n                        v-model="upload.files"\n                        :post-action="postActionUrl"\n                        :extensions="upload.extensions"\n                        :accept="upload.accept"\n                        :multiple="upload.multiple"\n                        :directory="upload.directory"\n                        :size="upload.size || 0"\n                        :thread="upload.thread < 1 ? 1 : (upload.thread > 5 ? 5 : upload.thread)"\n                        :headers="upload.headers"\n                        :data="upload.data"\n                        :drop="upload.drop"\n                        :drop-directory="upload.dropDirectory"\n                        :add-index="upload.addIndex"\n                        class="btn btn-success"\n                      >\n                        <FontAwesomeIcon icon="plus" />\n                        <span class="ml-2">select files</span>\n                      </file-upload>\n                      <b-button\n                        v-if="!$refs.upload || !$refs.upload.active"\n                        @click.prevent="$refs.upload.active = true"\n                        variant="primary"\n                        class="ml-2 d-inline">\n                        <FontAwesomeIcon icon="upload" />\n                        <span class="ml-2">upload all</span>\n                      </b-button>\n                      <b-button\n                        v-else\n                        @click.prevent="$refs.upload.active = false"\n                        variant="primary"\n                        class="ml-2 d-inline">\n                        <FontAwesomeIcon icon="times-circle" />\n                        <span class="ml-2">stop upload</span>\n                      </b-button>\n                    </b-form-group>\n                  </b-form>\n                </b-col>\n              </b-row>\n              <b-row>\n                <b-col>\n                  <b-table\n                    :fields="datasetTableFields"\n                    :items="datasetTableItems"\n                    stacked="lg"\n                    empty-text="No files selected"\n                    bordered\n                    fixed\n                    hover\n                    show-empty\n                  >\n                    <template v-slot:cell(size)="data">\n                      {{ readableFileSize(data.item.size) }}\n                    </template>\n                    <template v-slot:cell(speed)="data">\n                      {{ readableFileSize(data.item.speed) }}/s\n                    </template>\n                    <template v-slot:cell(status)="data">\n                      <b-progress\n                        :variant="getFileStatus(data.item)"\n                        :value="data.item.progress"\n                        :max="100"\n                        :precision="2"\n                        show-progress></b-progress>\n                      <span class="small">Triples uploaded:&nbsp;</span>\n                      <span v-if="data.item.response.tripleCount" class="small">\n                        {{ data.item.response.tripleCount }}\n                      </span>\n                      <span v-else class="small">0</span>\n                    </template>\n                    <template v-slot:cell(actions)="data">\n                      <b-button\n                        @click.prevent="data.item.success || data.item.error === \'compressing\' ? false : $refs.upload.update(data.item, {active: true})"\n                        variant="outline-primary"\n                        class="mr-0 mb-2 d-block"\n                      >\n                        <FontAwesomeIcon icon="upload" />\n                        <span class="ml-2">upload now</span>\n                      </b-button>\n                      <b-button\n                        @click.prevent="remove(data.item)"\n                        variant="outline-primary"\n                        class="mr-0 mb-md-0 d-block d-md-inline-block"\n                      >\n                        <FontAwesomeIcon icon="minus-circle" />\n                        <span class="ml-2">remove</span>\n                      </b-button>\n                    </template>\n                  </b-table>\n                </b-col>\n              </b-row>\n            </div>\n          </b-card-body>\n        </b-card>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport Menu from \'@/components/dataset/Menu\'\nimport FileUpload from \'vue-upload-component\'\nimport { library } from \'@fortawesome/fontawesome-svg-core\'\nimport { faPlus, faUpload, faTimesCircle, faMinusCircle } from \'@fortawesome/free-solid-svg-icons\'\nimport { FontAwesomeIcon } from \'@fortawesome/vue-fontawesome\'\n\nlibrary.add(faPlus, faUpload, faTimesCircle, faMinusCircle)\n\nexport default {\n  name: \'DatasetUpload\',\n\n  components: {\n    Menu,\n    FontAwesomeIcon,\n    FileUpload\n  },\n\n  props: {\n    datasetName: {\n      type: String,\n      required: true\n    }\n  },\n\n  data () {\n    return {\n      form: {\n        datasetGraphName: null,\n        datasetFiles: null\n      },\n      upload: {\n        files: [],\n        accept: \'\', // e.g. \'ttl,xml,rdf,...\'\n        minSize: 0,\n        // size: 1024 * 1024 * 10,\n        multiple: true,\n        directory: false,\n        drop: true,\n        dropDirectory: true,\n        addIndex: false,\n        thread: 3,\n        name: \'file\',\n        headers: { // e.g. CSRF headers\n        },\n        data: {\n        },\n        autoCompress: 1024 * 1024,\n        uploadAuto: false,\n        isOption: false\n        // addData: {\n        //   show: false,\n        //   name: \'\',\n        //   type: \'\',\n        //   content: \'\'\n        // },\n        // editFile: {\n        //   show: false,\n        //   name: \'\'\n        // }\n      },\n      datasetTableFields: [\n        {\n          key: \'name\',\n          label: \'name\',\n          sortable: true,\n          sortDirection: \'asc\'\n        },\n        {\n          key: \'size\',\n          label: \'size\',\n          sortable: true,\n          sortDirection: \'asc\'\n        },\n        {\n          key: \'speed\',\n          label: \'speed\'\n        },\n        {\n          key: \'status\',\n          label: \'status\'\n        },\n        {\n          key: \'actions\',\n          label: \'actions\'\n        }\n      ]\n    }\n  },\n\n  computed: {\n    datasetTableItems () {\n      if (!this.upload.files) {\n        return []\n      }\n      return this.upload.files\n        .map(file => {\n          return Object.assign(file, {\n            status: this.getFileStatus(file)\n          })\n        })\n    },\n    postActionUrl () {\n      const params = (this.form.datasetGraphName && this.form.datasetGraphName !== \'\') ? `?graph=${this.form.datasetGraphName}` : \'\'\n      return this.$fusekiService.getFusekiUrl(`/${this.datasetName}/data${params}`)\n    }\n  },\n\n  methods: {\n    getFileStatus (file) {\n      if (file.error) {\n        // eslint-disable-next-line no-console\n        console.error(file)\n        return \'danger\'\n      }\n      if (file.success) {\n        return \'success\'\n      }\n      if (file.active) {\n        return \'warning\'\n      }\n      return \'\'\n    },\n    remove (file) {\n      this.$refs.upload.remove(file)\n    },\n    /**\n     * Return file size in bytes in a human-readable form.\n     *\n     * Copied from the Backbone.js code with modifications.\n     *\n     * Replaced sprintf usage by .toFixed(2).\n     */\n    readableFileSize: function (size) {\n      const k = 1024\n      const m = k * k\n\n      if (size >= m) {\n        return `${(size / m).toFixed(2).replace(/\\.?0*$/, \'\')}mb`\n      } else if (size >= k) {\n        return `${(size / k).toFixed(2).replace(/\\.?0*$/, \'\')}kb`\n      } else {\n        return `${size} bytes`\n      }\n    }\n  }\n}\n<\/script>\n']},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a441f783c74c3fceac98cce253c49a6d0af90662"},s=n[i]||(n[i]={});s[e]&&s[e].hash===t||(s[e]=a);var o=s[e];return d=function(){return o},o}d(),d().s[0]++,l["c"].add(c["h"],c["o"],c["n"],c["g"]);var p={name:"DatasetUpload",components:{Menu:s["a"],FontAwesomeIcon:u["a"],FileUpload:r.a},props:{datasetName:{type:String,required:!0}},data:function(){return d().f[0]++,d().s[1]++,{form:{datasetGraphName:null,datasetFiles:null},upload:{files:[],accept:"",minSize:0,multiple:!0,directory:!1,drop:!0,dropDirectory:!0,addIndex:!1,thread:3,name:"file",headers:{},data:{},autoCompress:1048576,uploadAuto:!1,isOption:!1},datasetTableFields:[{key:"name",label:"name",sortable:!0,sortDirection:"asc"},{key:"size",label:"size",sortable:!0,sortDirection:"asc"},{key:"speed",label:"speed"},{key:"status",label:"status"},{key:"actions",label:"actions"}]}},computed:{datasetTableItems:function(){var e=this;return d().f[1]++,d().s[2]++,this.upload.files?(d().b[0][1]++,d().s[4]++,this.upload.files.map((function(t){return d().f[2]++,d().s[5]++,Object.assign(t,{status:e.getFileStatus(t)})}))):(d().b[0][0]++,d().s[3]++,[])},postActionUrl:function(){d().f[3]++;var e=(d().s[6]++,d().b[2][0]++,this.form.datasetGraphName&&(d().b[2][1]++,""!==this.form.datasetGraphName)?(d().b[1][0]++,"?graph=".concat(this.form.datasetGraphName)):(d().b[1][1]++,""));return d().s[7]++,this.$fusekiService.getFusekiUrl("/".concat(this.datasetName,"/data").concat(e))}},methods:{getFileStatus:function(e){return d().f[4]++,d().s[8]++,e.error?(d().b[3][0]++,d().s[9]++,console.error(e),d().s[10]++,"danger"):(d().b[3][1]++,d().s[11]++,e.success?(d().b[4][0]++,d().s[12]++,"success"):(d().b[4][1]++,d().s[13]++,e.active?(d().b[5][0]++,d().s[14]++,"warning"):(d().b[5][1]++,d().s[15]++,"")))},remove:function(e){d().f[5]++,d().s[16]++,this.$refs.upload.remove(e)},readableFileSize:function(e){d().f[6]++;var t=(d().s[17]++,1024),n=(d().s[18]++,t*t);return d().s[19]++,e>=n?(d().b[6][0]++,d().s[20]++,"".concat((e/n).toFixed(2).replace(/\.?0*$/,""),"mb")):(d().b[6][1]++,d().s[21]++,e>=t?(d().b[7][0]++,d().s[22]++,"".concat((e/t).toFixed(2).replace(/\.?0*$/,""),"kb")):(d().b[7][1]++,d().s[23]++,"".concat(e," bytes")))}}},f=p,m=n("2877"),h=Object(m["a"])(f,i,a,!1,null,null,null);t["default"]=h.exports},b680:function(e,t,n){"use strict";var i=n("23e7"),a=n("da84"),s=n("e330"),o=n("5926"),r=n("408a"),l=n("1148"),c=n("d039"),u=a.RangeError,d=a.String,p=Math.floor,f=s(l),m=s("".slice),h=s(1..toFixed),A=function(e,t,n){return 0===t?n:t%2===1?A(e,t-1,n*e):A(e*e,t/2,n)},v=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},b=function(e,t,n){var i=-1,a=n;while(++i<6)a+=t*e[i],e[i]=a%1e7,a=p(a/1e7)},y=function(e,t){var n=6,i=0;while(--n>=0)i+=e[n],e[n]=p(i/t),i=i%t*1e7},g=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var i=d(e[t]);n=""===n?i:n+f("0",7-i.length)+i}return n},C=c((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!c((function(){h({})}));i({target:"Number",proto:!0,forced:C},{toFixed:function(e){var t,n,i,a,s=r(this),l=o(e),c=[0,0,0,0,0,0],p="",h="0";if(l<0||l>20)throw u("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return d(s);if(s<0&&(p="-",s=-s),s>1e-21)if(t=v(s*A(2,69,1))-69,n=t<0?s*A(2,-t,1):s/A(2,t,1),n*=4503599627370496,t=52-t,t>0){b(c,0,n),i=l;while(i>=7)b(c,1e7,0),i-=7;b(c,A(10,i,1),0),i=t-1;while(i>=23)y(c,1<<23),i-=23;y(c,1<<i),b(c,1,1),y(c,2),h=g(c)}else b(c,0,n),b(c,1<<-t,0),h=g(c)+f("0",l);return l>0?(a=h.length,h=p+(a<=l?"0."+f("0",l-a)+h:m(h,0,a-l)+"."+m(h,a-l))):h=p+h,h}})}}]);
//# sourceMappingURL=datasetUpload.7936769c.js.map